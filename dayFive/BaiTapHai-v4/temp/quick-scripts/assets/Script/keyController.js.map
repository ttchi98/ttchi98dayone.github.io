{"version":3,"sources":["keyController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyLeft","onKeyRight","onKeyUp","onKeyDown","start","update","dt","event","keyCode","macro","KEY","left","goLeft","a","right","goRight","d","up","goJump","w","down","resetPos","s","instance","emit"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;;AAEAC,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;AAEPC,cAAY,EAFL;AAGP;AACAC,QAJO,oBAIE;AACPL,OAAGM,WAAH,CAAeC,EAAf,CAAkBP,GAAGQ,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKC,SAA1D,EAAqE,IAArE;AACAX,OAAGM,WAAH,CAAeC,EAAf,CAAkBP,GAAGQ,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKE,UAA1D,EAAsE,IAAtE;AACAZ,OAAGM,WAAH,CAAeC,EAAf,CAAkBP,GAAGQ,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKG,OAA1D,EAAmE,IAAnE;AACAb,OAAGM,WAAH,CAAeC,EAAf,CAAkBP,GAAGQ,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKI,SAA1D,EAAqE,IAArE;AACD,GATM;AAUPC,OAVO,mBAUC,CAAE,CAVH;AAWPC,QAXO,kBAWAC,EAXA,EAWI,CAAE,CAXN;AAYPN,WAZO,qBAYGO,KAZH,EAYU;AACf,YAAQA,MAAMC,OAAd;AACE,WAAKnB,GAAGoB,KAAH,CAASC,GAAT,CAAaC,IAAlB;AACE,aAAKC,MAAL;AACF,WAAKvB,GAAGoB,KAAH,CAASC,GAAT,CAAaG,CAAlB;AACE,aAAKD,MAAL;AAJJ;AAMD,GAnBM;AAoBPX,YApBO,sBAoBIM,KApBJ,EAoBW;AAChB,YAAQA,MAAMC,OAAd;AACE,WAAKnB,GAAGoB,KAAH,CAASC,GAAT,CAAaI,KAAlB;AACE,aAAKC,OAAL;AACF,WAAK1B,GAAGoB,KAAH,CAASC,GAAT,CAAaM,CAAlB;AACE,aAAKD,OAAL;AAJJ;AAMD,GA3BM;AA4BPb,SA5BO,mBA4BCK,KA5BD,EA4BQ;AACb,YAAQA,MAAMC,OAAd;AACE,WAAKnB,GAAGoB,KAAH,CAASC,GAAT,CAAaO,EAAlB;AACE,aAAKC,MAAL;AACF,WAAK7B,GAAGoB,KAAH,CAASC,GAAT,CAAaS,CAAlB;AACE,aAAKD,MAAL;AAJJ;AAMD,GAnCM;AAoCPf,WApCO,qBAoCGI,KApCH,EAoCU;AACf,YAAQA,MAAMC,OAAd;AACE,WAAKnB,GAAGoB,KAAH,CAASC,GAAT,CAAaU,IAAlB;AACE,aAAKC,QAAL;AACF,WAAKhC,GAAGoB,KAAH,CAASC,GAAT,CAAaY,CAAlB;AACE,aAAKD,QAAL;AAJJ;AAMD,GA3CM;AA6CPT,QA7CO,oBA6CE;AACPzB,YAAQoC,QAAR,CAAiBC,IAAjB,CAAsB,MAAtB;AACD,GA/CM;AAgDPT,SAhDO,qBAgDG;AACR5B,YAAQoC,QAAR,CAAiBC,IAAjB,CAAsB,OAAtB;AACD,GAlDM;AAmDPN,QAnDO,oBAmDE;AACP/B,YAAQoC,QAAR,CAAiBC,IAAjB,CAAsB,MAAtB;AACD,GArDM;AAsDPH,UAtDO,sBAsDI;AACTlC,YAAQoC,QAAR,CAAiBC,IAAjB,CAAsB,OAAtB;AACD;AAxDM,CAAT","file":"keyController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\n\ncc.Class({\n  extends: cc.Component,\n  properties: {},\n  // LIFE-CYCLE CALLBACKS:\n  onLoad() {\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyLeft, this);\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyRight, this);\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyUp, this);\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n  },\n  start() {},\n  update(dt) {},\n  onKeyLeft(event) {\n    switch (event.keyCode) {\n      case cc.macro.KEY.left:\n        this.goLeft();\n      case cc.macro.KEY.a:\n        this.goLeft();\n    }\n  },\n  onKeyRight(event) {\n    switch (event.keyCode) {\n      case cc.macro.KEY.right:\n        this.goRight();\n      case cc.macro.KEY.d:\n        this.goRight();\n    }\n  },\n  onKeyUp(event) {\n    switch (event.keyCode) {\n      case cc.macro.KEY.up:\n        this.goJump();\n      case cc.macro.KEY.w:\n        this.goJump();\n    }\n  },\n  onKeyDown(event) {\n    switch (event.keyCode) {\n      case cc.macro.KEY.down:\n        this.resetPos();\n      case cc.macro.KEY.s:\n        this.resetPos();\n    }\n  },\n\n  goLeft() {\n    Emitter.instance.emit(\"LEFT\");\n  },\n  goRight() {\n    Emitter.instance.emit(\"RIGHT\");\n  },\n  goJump() {\n    Emitter.instance.emit(\"JUMP\");\n  },\n  resetPos() {\n    Emitter.instance.emit(\"RESET\");\n  },\n});\n"]}