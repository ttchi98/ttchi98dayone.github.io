{"version":3,"sources":["../../../../assets/Script/assets/Script/keyController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","keyMove","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","instance","registerEvent","disableKey","bind","start","update","dt","event","keyCode","macro","KEY","left","goLeft","right","goRight","up","goJump","down","resetPos","emit","value"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;;AAEAC,GAAGC,KAAH,CAAS;AACPC,WAASF,GAAGG,SADL;AAEPC,cAAY;AACVC,aAAS;AADC,GAFL;AAKP;AACAC,QANO,oBAME;AACPN,OAAGO,WAAH,CAAeC,EAAf,CAAkBR,GAAGS,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKC,SAA1D,EAAqE,IAArE;AACAd,YAAQe,QAAR,CAAiBC,aAAjB,CAA+B,aAA/B,EAA8C,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAA9C;AACD,GATM;AAUPC,OAVO,mBAUC,CAAE,CAVH;AAWPC,QAXO,kBAWAC,EAXA,EAWI,CAAE,CAXN;AAYPP,WAZO,qBAYGQ,KAZH,EAYU;AACf,QAAI,CAAC,KAAKf,OAAV,EAAmB;AACnB,YAAQe,MAAMC,OAAd;AACE,WAAKrB,GAAGsB,KAAH,CAASC,GAAT,CAAaC,IAAlB;AACE,aAAKC,MAAL;AACA;AACF,WAAKzB,GAAGsB,KAAH,CAASC,GAAT,CAAaG,KAAlB;AACE,aAAKC,OAAL;AACA;AACF,WAAK3B,GAAGsB,KAAH,CAASC,GAAT,CAAaK,EAAlB;AACE,aAAKC,MAAL;AACA;AACF,WAAK7B,GAAGsB,KAAH,CAASC,GAAT,CAAaO,IAAlB;AACE,aAAKC,QAAL;AACA;AAZJ;AAcD,GA5BM;AA6BPN,QA7BO,oBA6BE;AACP3B,YAAQe,QAAR,CAAiBmB,IAAjB,CAAsB,MAAtB;AACD,GA/BM;AAgCPL,SAhCO,qBAgCG;AACR7B,YAAQe,QAAR,CAAiBmB,IAAjB,CAAsB,OAAtB;AACD,GAlCM;AAmCPH,QAnCO,oBAmCE;AACP/B,YAAQe,QAAR,CAAiBmB,IAAjB,CAAsB,MAAtB;AACD,GArCM;AAsCPD,UAtCO,sBAsCI;AACTjC,YAAQe,QAAR,CAAiBmB,IAAjB,CAAsB,OAAtB;AACD,GAxCM;AAyCPjB,YAzCO,sBAyCIkB,KAzCJ,EAyCW;AAChB,SAAK5B,OAAL,GAAe4B,KAAf;AACD;AA3CM,CAAT","file":"keyController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\n\ncc.Class({\n  extends: cc.Component,\n  properties: {\n    keyMove: true,\n  },\n  // LIFE-CYCLE CALLBACKS:\n  onLoad() {\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n    Emitter.instance.registerEvent(\"DISABLE KEY\", this.disableKey.bind(this));\n  },\n  start() {},\n  update(dt) {},\n  onKeyDown(event) {\n    if (!this.keyMove) return;\n    switch (event.keyCode) {\n      case cc.macro.KEY.left:\n        this.goLeft();\n        break;\n      case cc.macro.KEY.right:\n        this.goRight();\n        break;\n      case cc.macro.KEY.up:\n        this.goJump();\n        break;\n      case cc.macro.KEY.down:\n        this.resetPos();\n        break;\n    }\n  },\n  goLeft() {\n    Emitter.instance.emit(\"LEFT\");\n  },\n  goRight() {\n    Emitter.instance.emit(\"RIGHT\");\n  },\n  goJump() {\n    Emitter.instance.emit(\"JUMP\");\n  },\n  resetPos() {\n    Emitter.instance.emit(\"RESET\");\n  },\n  disableKey(value) {\n    this.keyMove = value;\n  },\n});\n"]}