{"version":3,"sources":["keyController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","keyMove","timer","count","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","instance","registerEvent","disableKey","bind","start","update","dt","event","keyCode","macro","KEY","down","keyDown","up","keyUp","right","keyRight","left","keyLeft","goDown","matchItemCol","createRandomItem","colorCheck","goUp","goRight","matchItemRow","goLeft","emit","moveSound","value"],"mappings":"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","file":"keyController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    keyMove: true,\n    timer: 0,\n    count: 30,\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n    Emitter.instance.registerEvent(\"DISABLE KEY\", this.disableKey.bind(this));\n  },\n\n  start() {},\n\n  update(dt) {},\n\n  onKeyDown(event) {\n    if (!this.keyMove) return;\n    switch (event.keyCode) {\n      case cc.macro.KEY.down:\n        this.keyDown();\n        break;\n      case cc.macro.KEY.up:\n        this.keyUp();\n        break;\n      case cc.macro.KEY.right:\n        this.keyRight();\n        break;\n      case cc.macro.KEY.left:\n        this.keyLeft();\n        break;\n    }\n  },\n  keyDown() {\n    this.goDown();\n    this.matchItemCol();\n    this.goDown();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  keyUp() {\n    this.goUp();\n    this.matchItemCol();\n    this.goUp();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  keyRight() {\n    this.goRight();\n    this.matchItemRow();\n    this.goRight();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  keyLeft() {\n    this.goLeft();\n    this.matchItemRow();\n    this.goLeft();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  colorCheck() {\n    Emitter.instance.emit(\"COLOR CHECK\");\n  },\n  matchItemRow() {\n    Emitter.instance.emit(\"MATCH ROW\");\n  },\n  matchItemCol() {\n    Emitter.instance.emit(\"MATCH COL\");\n  },\n  createRandomItem() {\n    Emitter.instance.emit(\"CREATE RANDOM ITEM\");\n  },\n  moveSound() {\n    Emitter.instance.emit(\"MOVE SOUND\");\n  },\n  goDown() {\n    Emitter.instance.emit(\"DOWN\");\n    this.moveSound();\n  },\n  goUp() {\n    Emitter.instance.emit(\"UP\");\n    this.moveSound();\n  },\n  goRight() {\n    Emitter.instance.emit(\"RIGHT\");\n    this.moveSound();\n  },\n  goLeft() {\n    Emitter.instance.emit(\"LEFT\");\n    this.moveSound();\n  },\n  disableKey(value) {\n    this.keyMove = value;\n  },\n});\n"]}