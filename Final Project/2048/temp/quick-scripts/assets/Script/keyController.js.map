{"version":3,"sources":["keyController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","keyMove","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","instance","registerEvent","disableKey","bind","start","update","dt","event","keyCode","macro","KEY","down","keyDown","up","keyUp","right","keyRight","left","keyLeft","goDown","matchItemCol","createRandomItem","colorCheck","goUp","goRight","matchItemRow","goLeft","emit","moveSound","value"],"mappings":"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","file":"keyController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    keyMove: true,\n  },\n\n  // LIFE-CYCLE CALLBACKS:\n\n  onLoad() {\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n    Emitter.instance.registerEvent(\"DISABLE KEY\", this.disableKey.bind(this));\n  },\n\n  start() {},\n\n  update(dt) {},\n\n  onKeyDown(event) {\n    if (!this.keyMove) return;\n    switch (event.keyCode) {\n      case cc.macro.KEY.down:\n        this.keyDown();\n        break;\n      case cc.macro.KEY.up:\n        this.keyUp();\n        break;\n      case cc.macro.KEY.right:\n        this.keyRight();\n        break;\n      case cc.macro.KEY.left:\n        this.keyLeft();\n        break;\n    }\n  },\n  keyDown() {\n    this.goDown();\n    this.matchItemCol();\n    this.goDown();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  keyUp() {\n    this.goUp();\n    this.matchItemCol();\n    this.goUp();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  keyRight() {\n    this.goRight();\n    this.matchItemRow();\n    this.goRight();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  keyLeft() {\n    this.goLeft();\n    this.matchItemRow();\n    this.goLeft();\n    this.createRandomItem();\n    this.colorCheck();\n  },\n  colorCheck() {\n    Emitter.instance.emit(\"COLOR CHECK\");\n  },\n  matchItemRow() {\n    Emitter.instance.emit(\"MATCH ROW\");\n  },\n  matchItemCol() {\n    Emitter.instance.emit(\"MATCH COL\");\n  },\n  createRandomItem() {\n    Emitter.instance.emit(\"CREATE RANDOM ITEM\");\n  },\n  moveSound() {\n    Emitter.instance.emit(\"MOVE SOUND\");\n  },\n  goDown() {\n    Emitter.instance.emit(\"DOWN\");\n    this.moveSound();\n  },\n  goUp() {\n    Emitter.instance.emit(\"UP\");\n    this.moveSound();\n  },\n  goRight() {\n    Emitter.instance.emit(\"RIGHT\");\n    this.moveSound();\n  },\n  goLeft() {\n    Emitter.instance.emit(\"LEFT\");\n    this.moveSound();\n  },\n  disableKey(value) {\n    this.keyMove = value;\n  },\n});\n"]}