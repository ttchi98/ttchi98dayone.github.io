{"version":3,"sources":["../../../../assets/Script/assets/Script/mainController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","_score","best","_newItem","_timer","mainCamera","Node","title","notification","notificationLabel","RichText","scoreContainer","scoreLabel","Label","scoreUpdatePrefab","Prefab","bestLabel","item","table","tableChild","itemPrefab","deckItem","settingForm","settingFormFlag","tutorialForm","tutorialFormFlag","leaderBoardForm","leaderBoardFormFlag","leaderBoardItemPrefab","gameOverForm","gameOverParticles","gameOverLabel","gameOverMenu","gameOverEditBox","EditBox","_posArr","_indexArr","onLoad","instance","registerEvent","goDown","bind","goUp","goRight","goLeft","createRandomItem","matchItemRow","matchItemCol","newGameEvent","tutorialEvent","closeTutorialEvent","closeLeaderBoardEvent","closeSettingEvent","settingEvent","leaderBoardEvent","colorCheck","playAgainEvent","startGameEvent","backEvent","v2","createTable","createPreFab","updateBestScore","start","update","dt","notificationEvent","string","i","j","newTableChild","instantiate","addChild","children","getComponent","push","position","randomNumber","Math","floor","random","length","setScale","action","scaleTo","runAction","checkForLose","matchTotal","parseInt","scoreUpdate","checkForWin","value","updateScore","moveUp","sequence","moveTo","fadeOut","delayTime","callFunc","destroy","easing","easeQuadraticActionOut","emit","grey","Color","white","color0","color2","color4","color8","color16","color32","color64","color128","color256","color512","color1024","color2048","colorNode","value1","value2","color","LabelOutline","rowOne","rowTwo","rowThree","rowFour","rows","filteredRow","filter","num","zeros","Array","fill","newRow","concat","colOne","colTwo","colThree","colFour","cols","filteredCol","newCol","gameOverWinEvent","sys","localStorage","setItem","JSON","stringify","max","parse","getItem","gameOverLoseEvent","startGame","moveTitle","spawn","active","backToStartGame","disableKey","winSpawn","loseSpawn","removeAllChildren","setPosition","spawnOpen","spawnClose","PageView","scrollToPage","newItem","stringLeaderBoard"],"mappings":"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","file":"mainController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    _score: 0,\n    best: [],\n    _newItem: null,\n    _timer: 0,\n    mainCamera: cc.Node,\n    title: cc.Node,\n    notification: cc.Node,\n    notificationLabel: cc.RichText,\n    scoreContainer: cc.Node,\n    scoreLabel: cc.Label,\n    scoreUpdatePrefab: cc.Prefab,\n    bestLabel: cc.Label,\n    item: cc.Node,\n    table: cc.Node,\n    tableChild: cc.Prefab,\n    itemPrefab: cc.Prefab,\n    deckItem: cc.Node,\n    settingForm: cc.Node,\n    settingFormFlag: false,\n    tutorialForm: cc.Node,\n    tutorialFormFlag: false,\n    leaderBoardForm: cc.Node,\n    leaderBoardFormFlag: false,\n    leaderBoardItemPrefab: cc.Prefab,\n    gameOverForm: cc.Node,\n    gameOverParticles: cc.Node,\n    gameOverLabel: cc.Label,\n    gameOverMenu: cc.Node,\n    gameOverEditBox: cc.EditBox,\n    _posArr: [],\n    _indexArr: [],\n  },\n  // LIFE-CYCLE CALLBACKS:\n  onLoad() {\n    Emitter.instance = new Emitter();\n    Emitter.instance.registerEvent(\"DOWN\", this.goDown.bind(this));\n    Emitter.instance.registerEvent(\"UP\", this.goUp.bind(this));\n    Emitter.instance.registerEvent(\"RIGHT\", this.goRight.bind(this));\n    Emitter.instance.registerEvent(\"LEFT\", this.goLeft.bind(this));\n    Emitter.instance.registerEvent(\"CREATE RANDOM ITEM\", this.createRandomItem.bind(this));\n    Emitter.instance.registerEvent(\"MATCH ROW\", this.matchItemRow.bind(this));\n    Emitter.instance.registerEvent(\"MATCH COL\", this.matchItemCol.bind(this));\n    Emitter.instance.registerEvent(\"NEW GAME\", this.newGameEvent.bind(this));\n    Emitter.instance.registerEvent(\"TUTORIAL\", this.tutorialEvent.bind(this));\n    Emitter.instance.registerEvent(\"CLOSE TUTORIAL\", this.closeTutorialEvent.bind(this));\n    Emitter.instance.registerEvent(\"CLOSE LEADER BOARD\", this.closeLeaderBoardEvent.bind(this));\n    Emitter.instance.registerEvent(\"CLOSE SETTING\", this.closeSettingEvent.bind(this));\n    Emitter.instance.registerEvent(\"SETTING\", this.settingEvent.bind(this));\n    Emitter.instance.registerEvent(\"LEADER BOARD\", this.leaderBoardEvent.bind(this));\n    Emitter.instance.registerEvent(\"COLOR CHECK\", this.colorCheck.bind(this));\n    Emitter.instance.registerEvent(\"PLAY AGAIN\", this.playAgainEvent.bind(this));\n    Emitter.instance.registerEvent(\"START GAME\", this.startGameEvent.bind(this));\n    Emitter.instance.registerEvent(\"BACK\", this.backEvent.bind(this));\n\n    this._posArr = [\n      cc.v2(-165, 65),\n      cc.v2(-55, 65),\n      cc.v2(55, 65),\n      cc.v2(165, 65),\n      cc.v2(-165, -45),\n      cc.v2(-55, -45),\n      cc.v2(55, -45),\n      cc.v2(165, -45),\n      cc.v2(-165, -155),\n      cc.v2(55, -155),\n      cc.v2(-55, -155),\n      cc.v2(165, -155),\n      cc.v2(-165, -265),\n      cc.v2(-55, -265),\n      cc.v2(55, -265),\n      cc.v2(165, -265),\n    ];\n    this.createTable();\n    this.createPreFab();\n    this.colorCheck();\n    this.updateBestScore();\n  },\n\n  start() {},\n\n  update(dt) {\n    this._timer == 500 ? this.notificationEvent() : this._timer++;\n    this.notificationLabel.string = `<color=#ffffff>Best Score is: </c><color=#0fffff>${this.bestLabel.string} </color><color=#ffffff>!!!</c>`;\n  },\n  createTable() {\n    for (let i = 1; i <= 4; i++) {\n      for (let j = 1; j <= 4; j++) {\n        let newTableChild = cc.instantiate(this.tableChild);\n        this.table.addChild(newTableChild);\n      }\n    }\n  },\n  createPreFab() {\n    for (let i = 0; i < 16; i++) {\n      this._newItem = cc.instantiate(this.itemPrefab);\n      this.deckItem.addChild(this._newItem);\n      this._newItem.children[0].getComponent(cc.Label).string = 0;\n      this._indexArr.push(this._newItem);\n      this._newItem.position = this._posArr[i];\n    }\n    this.colorCheck();\n    this.createRandomItem();\n    this.createRandomItem();\n  },\n  createRandomItem() {\n    let randomNumber = Math.floor(Math.random() * this._indexArr.length);\n    if (this._indexArr[randomNumber].children[0].getComponent(cc.Label).string == 0) {\n      this._indexArr[randomNumber].children[0].getComponent(cc.Label).string = 2;\n      this._indexArr[randomNumber].setScale(0.3);\n      let action = cc.scaleTo(0.2, 1);\n      this._indexArr[randomNumber].runAction(action);\n\n      this.checkForLose();\n    } else this.createRandomItem();\n  },\n  matchItemRow() {\n    for (let i = 0; i < 15; i++) {\n      if (\n        this._indexArr[i].children[0].getComponent(cc.Label).string ===\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string\n      ) {\n        let matchTotal =\n          parseInt(this._indexArr[i].children[0].getComponent(cc.Label).string) +\n          parseInt(this._indexArr[i + 1].children[0].getComponent(cc.Label).string);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = matchTotal;\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string = 0;\n        this._score += matchTotal;\n        this.scoreLabel.string = this._score;\n        this.scoreUpdate(matchTotal);\n      }\n    }\n    this.checkForWin();\n  },\n  matchItemCol() {\n    for (let i = 0; i < 12; i++) {\n      if (\n        this._indexArr[i].children[0].getComponent(cc.Label).string ===\n        this._indexArr[i + 4].children[0].getComponent(cc.Label).string\n      ) {\n        let matchTotal =\n          parseInt(this._indexArr[i].children[0].getComponent(cc.Label).string) +\n          parseInt(this._indexArr[i + 4].children[0].getComponent(cc.Label).string);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = 0;\n        this._indexArr[i + 4].children[0].getComponent(cc.Label).string = matchTotal;\n        this._score += matchTotal;\n        this.scoreLabel.string = this._score;\n        this.scoreUpdate(matchTotal);\n      }\n    }\n    this.checkForWin();\n  },\n  scoreUpdate(value) {\n    if (value != 0) {\n      let updateScore = cc.instantiate(this.scoreUpdatePrefab);\n      this.scoreContainer.addChild(updateScore);\n      updateScore.children[0].getComponent(cc.Label).string = `+${value}`;\n      let moveUp = cc.sequence(\n        cc.moveTo(0.5, 0, 50),\n        cc.fadeOut(0.5),\n        cc.delayTime(1),\n        cc.callFunc(() => {\n          updateScore.destroy();\n        })\n      );\n      moveUp.easing(cc.easeQuadraticActionOut());\n      updateScore.runAction(moveUp);\n      Emitter.instance.emit(\"MATCH SOUND\");\n    }\n  },\n  colorCheck() {\n    let grey = new cc.Color(119, 110, 101);\n    let white = new cc.Color(255, 255, 255);\n    let color0 = new cc.Color(204, 193, 179);\n    let color2 = new cc.Color(238, 228, 218);\n    let color4 = new cc.Color(237, 224, 200);\n    let color8 = new cc.Color(242, 177, 120);\n    let color16 = new cc.Color(245, 150, 98);\n    let color32 = new cc.Color(246, 125, 95);\n    let color64 = new cc.Color(246, 94, 59);\n    let color128 = new cc.Color(237, 207, 113);\n    let color256 = new cc.Color(237, 204, 97);\n    let color512 = new cc.Color(237, 200, 80);\n    let color1024 = new cc.Color(237, 196, 62);\n    let color2048 = new cc.Color(237, 194, 45);\n\n    this.colorNode(0, color0, color0);\n    this.colorNode(2, color2, grey);\n    this.colorNode(4, color4, grey);\n    this.colorNode(8, color8, white);\n    this.colorNode(16, color16, white);\n    this.colorNode(32, color32, white);\n    this.colorNode(64, color64, white);\n    this.colorNode(128, color128, white);\n    this.colorNode(256, color256, white);\n    this.colorNode(512, color512, white);\n    this.colorNode(1024, color1024, white);\n    this.colorNode(2048, color2048, white);\n  },\n  colorNode(string, value1, value2) {\n    for (let i = 0; i <= 15; i++) {\n      if (this._indexArr[i].children[0].getComponent(cc.Label).string == string) {\n        this._indexArr[i].color = value1;\n        this._indexArr[i].children[0].color = value2;\n        this._indexArr[i].children[0].getComponent(cc.LabelOutline).color = value2;\n      }\n    }\n  },\n  goRight() {\n    for (let i = 0; i < 16; i++) {\n      if (i % 4 === 0) {\n        let rowOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n        let rowTwo = this._indexArr[i + 1].children[0].getComponent(cc.Label).string;\n        let rowThree = this._indexArr[i + 2].children[0].getComponent(cc.Label).string;\n        let rowFour = this._indexArr[i + 3].children[0].getComponent(cc.Label).string;\n        let rows = [parseInt(rowOne), parseInt(rowTwo), parseInt(rowThree), parseInt(rowFour)];\n        let filteredRow = rows.filter((num) => num);\n        let zeros = Array(4 - filteredRow.length).fill(0);\n        let newRow = zeros.concat(filteredRow);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = newRow[0];\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string = newRow[1];\n        this._indexArr[i + 2].children[0].getComponent(cc.Label).string = newRow[2];\n        this._indexArr[i + 3].children[0].getComponent(cc.Label).string = newRow[3];\n      }\n    }\n  },\n  goLeft() {\n    for (let i = 0; i < 16; i++) {\n      if (i % 4 === 0) {\n        let rowOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n        let rowTwo = this._indexArr[i + 1].children[0].getComponent(cc.Label).string;\n        let rowThree = this._indexArr[i + 2].children[0].getComponent(cc.Label).string;\n        let rowFour = this._indexArr[i + 3].children[0].getComponent(cc.Label).string;\n        let rows = [parseInt(rowOne), parseInt(rowTwo), parseInt(rowThree), parseInt(rowFour)];\n        let filteredRow = rows.filter((num) => num);\n        let zeros = Array(4 - filteredRow.length).fill(0);\n        let newRow = filteredRow.concat(zeros);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = newRow[0];\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string = newRow[1];\n        this._indexArr[i + 2].children[0].getComponent(cc.Label).string = newRow[2];\n        this._indexArr[i + 3].children[0].getComponent(cc.Label).string = newRow[3];\n      }\n    }\n  },\n  goUp() {\n    for (let i = 0; i < 4; i++) {\n      let colOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n      let colTwo = this._indexArr[i + 4].children[0].getComponent(cc.Label).string;\n      let colThree = this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string;\n      let colFour = this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string;\n      let cols = [parseInt(colOne), parseInt(colTwo), parseInt(colThree), parseInt(colFour)];\n      let filteredCol = cols.filter((num) => num);\n      let zeros = Array(4 - filteredCol.length).fill(0);\n      let newCol = filteredCol.concat(zeros);\n      this._indexArr[i].children[0].getComponent(cc.Label).string = newCol[0];\n      this._indexArr[i + 4].children[0].getComponent(cc.Label).string = newCol[1];\n      this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string = newCol[2];\n      this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string = newCol[3];\n    }\n  },\n  goDown() {\n    for (let i = 0; i < 4; i++) {\n      let colOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n      let colTwo = this._indexArr[i + 4].children[0].getComponent(cc.Label).string;\n      let colThree = this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string;\n      let colFour = this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string;\n      let cols = [parseInt(colOne), parseInt(colTwo), parseInt(colThree), parseInt(colFour)];\n      let filteredCol = cols.filter((num) => num);\n      let zeros = Array(4 - filteredCol.length).fill(0);\n      let newCol = zeros.concat(filteredCol);\n      this._indexArr[i].children[0].getComponent(cc.Label).string = newCol[0];\n      this._indexArr[i + 4].children[0].getComponent(cc.Label).string = newCol[1];\n      this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string = newCol[2];\n      this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string = newCol[3];\n    }\n  },\n  checkForWin() {\n    for (let i = 0; i < this._indexArr.length; i++) {\n      if (this._indexArr[i].children[0].getComponent(cc.Label).string == 128) {\n        this.gameOverWinEvent();\n        this.best.push(this.scoreLabel.string);\n        cc.sys.localStorage.setItem(\"best\", JSON.stringify(this.best));\n        this.bestLabel.string = Math.max(...JSON.parse(cc.sys.localStorage.getItem(\"best\")));\n      }\n    }\n  },\n  checkForLose() {\n    let zeros = 0;\n    for (let i = 0; i < this._indexArr.length; i++) {\n      if (this._indexArr[i].children[0].getComponent(cc.Label).string == 0) {\n        zeros++;\n      }\n    }\n    if (zeros === 0) {\n      this.gameOverLoseEvent();\n    }\n  },\n  startGameEvent() {\n    let startGame = cc.moveTo(0.5, -500, 0);\n    this.mainCamera.runAction(startGame);\n    let moveTitle = cc.spawn(cc.moveTo(0.5, -600, 300), cc.scaleTo(0.5, 0.8));\n    this.title.runAction(moveTitle);\n    this.gameOverForm.active = false;\n    this.newGameEvent();\n  },\n  backEvent() {\n    let backToStartGame = cc.moveTo(0.5, 0, 0);\n    this.mainCamera.runAction(backToStartGame);\n    let moveTitle = cc.spawn(cc.moveTo(0.5, 0, 200), cc.scaleTo(0.5, 1));\n    this.title.runAction(moveTitle);\n    this.disableKey(false);\n  },\n  gameOverWinEvent() {\n    this.gameOverForm.active = true;\n    this.gameOverForm.setScale(0, 0);\n    let winSpawn = cc.scaleTo(0.5, 1);\n    this.gameOverForm.runAction(winSpawn);\n    this.gameOverParticles.active = true;\n    this.gameOverMenu.active = true;\n    this.gameOverLabel.string = \"You Win!\";\n    Emitter.instance.emit(\"WIN SOUND\");\n    this.disableKey(false);\n  },\n  gameOverLoseEvent() {\n    this.gameOverForm.active = true;\n    this.gameOverForm.setScale(0, 0);\n    let loseSpawn = cc.scaleTo(0.5, 1);\n    this.gameOverForm.runAction(loseSpawn);\n    this.gameOverParticles.active = false;\n    this.gameOverMenu.active = false;\n    this.gameOverLabel.string = \"Game Over!\";\n    Emitter.instance.emit(\"LOSE SOUND\");\n    this.disableKey(false);\n  },\n  newGameEvent() {\n    this.deckItem.removeAllChildren(this._newItem);\n    this._score = 0;\n    this.scoreLabel.string = this._score;\n    this._indexArr = [];\n    this.createPreFab();\n    this.colorCheck();\n    this.gameOverForm.active = false;\n    this.disableKey(true);\n  },\n  tutorialEvent() {\n    if (this.tutorialFormFlag == false) {\n      this.tutorialFormFlag = true;\n      this.tutorialForm.active = true;\n      this.tutorialForm.setScale(0, 0);\n      this.tutorialForm.setPosition(-425, 280);\n      let spawnOpen = cc.spawn(cc.scaleTo(0.5, 1), cc.moveTo(0.5, -505, -50));\n      this.tutorialForm.runAction(spawnOpen);\n      this.disableKey(false);\n    } else this.closeTutorialEvent();\n  },\n  closeTutorialEvent() {\n    let spawnClose = cc.spawn(cc.scaleTo(0.5, 0), cc.moveTo(0.5, -425, 280));\n    this.tutorialForm.runAction(spawnClose);\n    this.tutorialFormFlag = false;\n    this.tutorialForm.getComponent(cc.PageView).scrollToPage(0, 0.5);\n    this.disableKey(true);\n  },\n  leaderBoardEvent() {\n    if (this.leaderBoardFormFlag == false) {\n      this.leaderBoardFormFlag = true;\n      this.leaderBoardForm.active = true;\n      this.leaderBoardForm.setScale(0, 0);\n      this.leaderBoardForm.setPosition(-355, 275);\n      let spawnOpen = cc.spawn(cc.scaleTo(0.5, 1), cc.moveTo(0.5, -505, -50));\n      this.leaderBoardForm.runAction(spawnOpen);\n      this.disableKey(false);\n    } else this.closeLeaderBoardEvent();\n  },\n  closeLeaderBoardEvent() {\n    let spawnClose = cc.spawn(cc.scaleTo(0.5, 0), cc.moveTo(0.5, -355, 275));\n    this.leaderBoardForm.runAction(spawnClose);\n    this.leaderBoardFormFlag = false;\n    this.disableKey(true);\n  },\n  settingEvent() {\n    if (this.settingFormFlag == false) {\n      this.settingFormFlag = true;\n      this.settingForm.active = true;\n      this.settingForm.setScale(0, 0);\n      let spawnOpen = cc.scaleTo(0.5, 1);\n      this.settingForm.runAction(spawnOpen);\n    } else this.closeSettingEvent();\n  },\n  closeSettingEvent() {\n    let spawnClose = cc.scaleTo(0.5, 0);\n    this.settingForm.runAction(spawnClose);\n    this.settingFormFlag = false;\n  },\n  playAgainEvent() {\n    let newItem = cc.instantiate(this.leaderBoardItemPrefab);\n    this.leaderBoardForm.children[2].children[0].addChild(newItem);\n    let stringLeaderBoard = newItem.getComponent(cc.Label);\n    stringLeaderBoard.string = `___☆☆☆☆☆___ \\n ${this.gameOverEditBox.string} : ${this._score}`;\n    this.gameOverEditBox.string = \"\";\n    this.newGameEvent();\n  },\n  updateBestScore() {\n    this.bestLabel.string = Math.max(...JSON.parse(cc.sys.localStorage.getItem(\"best\")));\n  },\n  notificationEvent() {\n    this.notification.setPosition(1500, 300);\n    let action = cc.moveTo(10, -1500, 300);\n    this.notification.runAction(action);\n    this._timer = 0;\n  },\n  disableKey(value) {\n    Emitter.instance.emit(\"DISABLE KEY\", value);\n    Emitter.instance.emit(\"DISABLE TOUCH\", value);\n  },\n});\n"]}