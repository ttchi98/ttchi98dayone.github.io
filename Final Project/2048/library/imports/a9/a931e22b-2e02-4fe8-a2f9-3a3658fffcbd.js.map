{"version":3,"sources":["../../../../assets/Script/assets/Script/mainController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","_score","best","_newItem","_timer","mainCamera","Node","title","notification","notificationLabel","RichText","scoreContainer","scoreLabel","Label","scoreUpdatePrefab","Prefab","bestLabel","item","table","tableChild","itemPrefab","deckItem","tutorialForm","tutorialFormFlag","leaderBoardForm","leaderBoardFormFlag","leaderBoardItemPrefab","gameOverForm","gameOverParticles","gameOverSadFace","gameOverHappyFace","gameOverLabel","gameOverMenu","gameOverEditBox","EditBox","_posArr","_indexArr","onLoad","instance","registerEvent","goDown","bind","goUp","goRight","goLeft","createRandomItem","matchItemRow","matchItemCol","newGameEvent","tutorialEvent","closeTutorialEvent","leaderBoardEvent","closeLeaderBoardEvent","colorCheck","playAgainEvent","startGameEvent","backEvent","v2","createTable","createPreFab","updateBestScore","start","update","dt","notificationEvent","string","i","j","newTableChild","instantiate","addChild","children","getComponent","push","position","randomNumber","Math","floor","random","length","setScale","action","scaleTo","runAction","checkForLose","matchTotal","parseInt","scoreUpdate","checkForWin","value","updateScore","moveUp","sequence","moveTo","fadeOut","delayTime","callFunc","destroy","easing","easeQuadraticActionOut","emit","grey","Color","white","color0","color2","color4","color8","color16","color32","color64","color128","color256","color512","color1024","color2048","colorNode","value1","value2","color","LabelOutline","rowOne","rowTwo","rowThree","rowFour","rows","filteredRow","filter","num","zeros","Array","fill","newRow","concat","colOne","colTwo","colThree","colFour","cols","filteredCol","newCol","gameOverWinEvent","sys","localStorage","setItem","JSON","stringify","max","parse","getItem","gameOverLoseEvent","startGame","moveTitle","spawn","backToStartGame","active","winSpawn","disableKey","disableTouch","loseSpawn","removeAllChildren","setPosition","spawnOpen","spawnClose","PageView","scrollToPage","newItem","stringLeaderBoard"],"mappings":"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","file":"mainController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    _score: 0,\n    best: [],\n    _newItem: null,\n    _timer: 0,\n    mainCamera: cc.Node,\n    title: cc.Node,\n    notification: cc.Node,\n    notificationLabel: cc.RichText,\n    scoreContainer: cc.Node,\n    scoreLabel: cc.Label,\n    scoreUpdatePrefab: cc.Prefab,\n    bestLabel: cc.Label,\n    item: cc.Node,\n    table: cc.Node,\n    tableChild: cc.Prefab,\n    itemPrefab: cc.Prefab,\n    deckItem: cc.Node,\n    tutorialForm: cc.Node,\n    tutorialFormFlag: false,\n    leaderBoardForm: cc.Node,\n    leaderBoardFormFlag: false,\n    leaderBoardItemPrefab: cc.Prefab,\n    gameOverForm: cc.Node,\n    gameOverParticles: cc.Node,\n    gameOverSadFace: cc.Node,\n    gameOverHappyFace: cc.Node,\n    gameOverLabel: cc.Label,\n    gameOverMenu: cc.Node,\n    gameOverEditBox: cc.EditBox,\n    _posArr: [],\n    _indexArr: [],\n  },\n  // LIFE-CYCLE CALLBACKS:\n  onLoad() {\n    Emitter.instance = new Emitter();\n    Emitter.instance.registerEvent(\"DOWN\", this.goDown.bind(this));\n    Emitter.instance.registerEvent(\"UP\", this.goUp.bind(this));\n    Emitter.instance.registerEvent(\"RIGHT\", this.goRight.bind(this));\n    Emitter.instance.registerEvent(\"LEFT\", this.goLeft.bind(this));\n    Emitter.instance.registerEvent(\"CREATE RANDOM ITEM\", this.createRandomItem.bind(this));\n    Emitter.instance.registerEvent(\"MATCH ROW\", this.matchItemRow.bind(this));\n    Emitter.instance.registerEvent(\"MATCH COL\", this.matchItemCol.bind(this));\n    Emitter.instance.registerEvent(\"NEW GAME\", this.newGameEvent.bind(this));\n    Emitter.instance.registerEvent(\"TUTORIAL\", this.tutorialEvent.bind(this));\n    Emitter.instance.registerEvent(\"CLOSE TUTORIAL\", this.closeTutorialEvent.bind(this));\n    Emitter.instance.registerEvent(\"LEADER BOARD\", this.leaderBoardEvent.bind(this));\n    Emitter.instance.registerEvent(\"CLOSE LEADER BOARD\", this.closeLeaderBoardEvent.bind(this));\n    Emitter.instance.registerEvent(\"COLOR CHECK\", this.colorCheck.bind(this));\n    Emitter.instance.registerEvent(\"PLAY AGAIN\", this.playAgainEvent.bind(this));\n    Emitter.instance.registerEvent(\"START GAME\", this.startGameEvent.bind(this));\n    Emitter.instance.registerEvent(\"BACK\", this.backEvent.bind(this));\n\n    this._posArr = [\n      cc.v2(-165, 65),\n      cc.v2(-55, 65),\n      cc.v2(55, 65),\n      cc.v2(165, 65),\n      cc.v2(-165, -45),\n      cc.v2(-55, -45),\n      cc.v2(55, -45),\n      cc.v2(165, -45),\n      cc.v2(-165, -155),\n      cc.v2(55, -155),\n      cc.v2(-55, -155),\n      cc.v2(165, -155),\n      cc.v2(-165, -265),\n      cc.v2(-55, -265),\n      cc.v2(55, -265),\n      cc.v2(165, -265),\n    ];\n    this.createTable();\n    this.createPreFab();\n    this.colorCheck();\n    this.updateBestScore();\n  },\n\n  start() {},\n\n  update(dt) {\n    this._timer == 500 ? this.notificationEvent() : this._timer++;\n    this.notificationLabel.string = `<color=#ffffff>Best Score is: </c><color=#0fffff>${this.bestLabel.string} </color><color=#ffffff>!!!</c>`;\n  },\n  createTable() {\n    for (let i = 1; i <= 4; i++) {\n      for (let j = 1; j <= 4; j++) {\n        let newTableChild = cc.instantiate(this.tableChild);\n        this.table.addChild(newTableChild);\n      }\n    }\n  },\n  createPreFab() {\n    for (let i = 0; i < 16; i++) {\n      this._newItem = cc.instantiate(this.itemPrefab);\n      this.deckItem.addChild(this._newItem);\n      this._newItem.children[0].getComponent(cc.Label).string = 0;\n      this._indexArr.push(this._newItem);\n      this._newItem.position = this._posArr[i];\n    }\n    this.colorCheck();\n    this.createRandomItem();\n    this.createRandomItem();\n  },\n  createRandomItem() {\n    let randomNumber = Math.floor(Math.random() * this._indexArr.length);\n    if (this._indexArr[randomNumber].children[0].getComponent(cc.Label).string == 0) {\n      this._indexArr[randomNumber].children[0].getComponent(cc.Label).string = 2;\n      this._indexArr[randomNumber].setScale(0.3);\n      let action = cc.scaleTo(0.2, 1);\n      this._indexArr[randomNumber].runAction(action);\n\n      this.checkForLose();\n    } else this.createRandomItem();\n  },\n  matchItemRow() {\n    for (let i = 0; i < 15; i++) {\n      if (\n        this._indexArr[i].children[0].getComponent(cc.Label).string ===\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string\n      ) {\n        let matchTotal =\n          parseInt(this._indexArr[i].children[0].getComponent(cc.Label).string) +\n          parseInt(this._indexArr[i + 1].children[0].getComponent(cc.Label).string);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = matchTotal;\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string = 0;\n        this._score += matchTotal;\n        this.scoreLabel.string = this._score;\n        this.scoreUpdate(matchTotal);\n      }\n    }\n    this.checkForWin();\n  },\n  matchItemCol() {\n    for (let i = 0; i < 12; i++) {\n      if (\n        this._indexArr[i].children[0].getComponent(cc.Label).string ===\n        this._indexArr[i + 4].children[0].getComponent(cc.Label).string\n      ) {\n        let matchTotal =\n          parseInt(this._indexArr[i].children[0].getComponent(cc.Label).string) +\n          parseInt(this._indexArr[i + 4].children[0].getComponent(cc.Label).string);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = 0;\n        this._indexArr[i + 4].children[0].getComponent(cc.Label).string = matchTotal;\n        this._score += matchTotal;\n        this.scoreLabel.string = this._score;\n        this.scoreUpdate(matchTotal);\n      }\n    }\n    this.checkForWin();\n  },\n  scoreUpdate(value) {\n    if (value != 0) {\n      let updateScore = cc.instantiate(this.scoreUpdatePrefab);\n      this.scoreContainer.addChild(updateScore);\n      updateScore.children[0].getComponent(cc.Label).string = `+${value}`;\n      let moveUp = cc.sequence(\n        cc.moveTo(0.5, 0, 50),\n        cc.fadeOut(0.5),\n        cc.delayTime(1),\n        cc.callFunc(() => {\n          updateScore.destroy();\n        })\n      );\n      moveUp.easing(cc.easeQuadraticActionOut());\n      updateScore.runAction(moveUp);\n      Emitter.instance.emit(\"MATCH SOUND\");\n    }\n  },\n  colorCheck() {\n    let grey = new cc.Color(119, 110, 101);\n    let white = new cc.Color(255, 255, 255);\n    let color0 = new cc.Color(204, 193, 179);\n    let color2 = new cc.Color(238, 228, 218);\n    let color4 = new cc.Color(237, 224, 200);\n    let color8 = new cc.Color(242, 177, 120);\n    let color16 = new cc.Color(245, 150, 98);\n    let color32 = new cc.Color(246, 125, 95);\n    let color64 = new cc.Color(246, 94, 59);\n    let color128 = new cc.Color(237, 207, 113);\n    let color256 = new cc.Color(237, 204, 97);\n    let color512 = new cc.Color(237, 200, 80);\n    let color1024 = new cc.Color(237, 196, 62);\n    let color2048 = new cc.Color(237, 194, 45);\n\n    this.colorNode(0, color0, color0);\n    this.colorNode(2, color2, grey);\n    this.colorNode(4, color4, grey);\n    this.colorNode(8, color8, white);\n    this.colorNode(16, color16, white);\n    this.colorNode(32, color32, white);\n    this.colorNode(64, color64, white);\n    this.colorNode(128, color128, white);\n    this.colorNode(256, color256, white);\n    this.colorNode(512, color512, white);\n    this.colorNode(1024, color1024, white);\n    this.colorNode(2048, color2048, white);\n  },\n  colorNode(string, value1, value2) {\n    for (let i = 0; i <= 15; i++) {\n      if (this._indexArr[i].children[0].getComponent(cc.Label).string == string) {\n        this._indexArr[i].color = value1;\n        this._indexArr[i].children[0].color = value2;\n        this._indexArr[i].children[0].getComponent(cc.LabelOutline).color = value2;\n      }\n    }\n  },\n  goRight() {\n    for (let i = 0; i < 16; i++) {\n      if (i % 4 === 0) {\n        let rowOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n        let rowTwo = this._indexArr[i + 1].children[0].getComponent(cc.Label).string;\n        let rowThree = this._indexArr[i + 2].children[0].getComponent(cc.Label).string;\n        let rowFour = this._indexArr[i + 3].children[0].getComponent(cc.Label).string;\n        let rows = [parseInt(rowOne), parseInt(rowTwo), parseInt(rowThree), parseInt(rowFour)];\n        let filteredRow = rows.filter((num) => num);\n        let zeros = Array(4 - filteredRow.length).fill(0);\n        let newRow = zeros.concat(filteredRow);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = newRow[0];\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string = newRow[1];\n        this._indexArr[i + 2].children[0].getComponent(cc.Label).string = newRow[2];\n        this._indexArr[i + 3].children[0].getComponent(cc.Label).string = newRow[3];\n      }\n    }\n  },\n  goLeft() {\n    for (let i = 0; i < 16; i++) {\n      if (i % 4 === 0) {\n        let rowOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n        let rowTwo = this._indexArr[i + 1].children[0].getComponent(cc.Label).string;\n        let rowThree = this._indexArr[i + 2].children[0].getComponent(cc.Label).string;\n        let rowFour = this._indexArr[i + 3].children[0].getComponent(cc.Label).string;\n        let rows = [parseInt(rowOne), parseInt(rowTwo), parseInt(rowThree), parseInt(rowFour)];\n        let filteredRow = rows.filter((num) => num);\n        let zeros = Array(4 - filteredRow.length).fill(0);\n        let newRow = filteredRow.concat(zeros);\n        this._indexArr[i].children[0].getComponent(cc.Label).string = newRow[0];\n        this._indexArr[i + 1].children[0].getComponent(cc.Label).string = newRow[1];\n        this._indexArr[i + 2].children[0].getComponent(cc.Label).string = newRow[2];\n        this._indexArr[i + 3].children[0].getComponent(cc.Label).string = newRow[3];\n      }\n    }\n  },\n  goUp() {\n    for (let i = 0; i < 4; i++) {\n      let colOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n      let colTwo = this._indexArr[i + 4].children[0].getComponent(cc.Label).string;\n      let colThree = this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string;\n      let colFour = this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string;\n      let cols = [parseInt(colOne), parseInt(colTwo), parseInt(colThree), parseInt(colFour)];\n      let filteredCol = cols.filter((num) => num);\n      let zeros = Array(4 - filteredCol.length).fill(0);\n      let newCol = filteredCol.concat(zeros);\n      this._indexArr[i].children[0].getComponent(cc.Label).string = newCol[0];\n      this._indexArr[i + 4].children[0].getComponent(cc.Label).string = newCol[1];\n      this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string = newCol[2];\n      this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string = newCol[3];\n    }\n  },\n  goDown() {\n    for (let i = 0; i < 4; i++) {\n      let colOne = this._indexArr[i].children[0].getComponent(cc.Label).string;\n      let colTwo = this._indexArr[i + 4].children[0].getComponent(cc.Label).string;\n      let colThree = this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string;\n      let colFour = this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string;\n      let cols = [parseInt(colOne), parseInt(colTwo), parseInt(colThree), parseInt(colFour)];\n      let filteredCol = cols.filter((num) => num);\n      let zeros = Array(4 - filteredCol.length).fill(0);\n      let newCol = zeros.concat(filteredCol);\n      this._indexArr[i].children[0].getComponent(cc.Label).string = newCol[0];\n      this._indexArr[i + 4].children[0].getComponent(cc.Label).string = newCol[1];\n      this._indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string = newCol[2];\n      this._indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string = newCol[3];\n    }\n  },\n  checkForWin() {\n    for (let i = 0; i < this._indexArr.length; i++) {\n      if (this._indexArr[i].children[0].getComponent(cc.Label).string == 128) {\n        this.gameOverWinEvent();\n        this.best.push(this.scoreLabel.string);\n        cc.sys.localStorage.setItem(\"best\", JSON.stringify(this.best));\n        this.bestLabel.string = Math.max(...JSON.parse(cc.sys.localStorage.getItem(\"best\")));\n      }\n    }\n  },\n  checkForLose() {\n    let zeros = 0;\n    for (let i = 0; i < this._indexArr.length; i++) {\n      if (this._indexArr[i].children[0].getComponent(cc.Label).string == 0) {\n        zeros++;\n      }\n    }\n    if (zeros === 0) {\n      this.gameOverLoseEvent();\n    }\n  },\n  startGameEvent() {\n    let startGame = cc.moveTo(0.5, -500, 0);\n    this.mainCamera.runAction(startGame);\n    let moveTitle = cc.spawn(cc.moveTo(0.5, -600, 300), cc.scaleTo(0.5, 0.8));\n    this.title.runAction(moveTitle);\n    this.newGameEvent();\n  },\n  backEvent() {\n    let backToStartGame = cc.moveTo(0.5, 0, 0);\n    this.mainCamera.runAction(backToStartGame);\n    let moveTitle = cc.spawn(cc.moveTo(0.5, 0, 200), cc.scaleTo(0.5, 1));\n    this.title.runAction(moveTitle);\n  },\n\n  gameOverWinEvent() {\n    this.gameOverForm.active = true;\n    this.gameOverForm.setScale(0, 0);\n    let winSpawn = cc.scaleTo(0.5, 1);\n    this.gameOverForm.runAction(winSpawn);\n    this.gameOverParticles.active = true;\n    this.gameOverHappyFace.active = true;\n    this.gameOverSadFace.active = false;\n    this.gameOverMenu.active = true;\n    this.gameOverLabel.string = \"You Win!\";\n    this.disableKey(false);\n    this.disableTouch(false);\n  },\n  gameOverLoseEvent() {\n    this.gameOverForm.active = true;\n    this.gameOverForm.setScale(0, 0);\n    let loseSpawn = cc.scaleTo(0.5, 1);\n    this.gameOverForm.runAction(loseSpawn);\n    this.gameOverParticles.active = false;\n    this.gameOverHappyFace.active = false;\n    this.gameOverSadFace.active = true;\n    this.gameOverMenu.active = false;\n    this.gameOverLabel.string = \"Game Over!\";\n    this.disableKey(false);\n    this.disableTouch(false);\n  },\n  newGameEvent() {\n    this.deckItem.removeAllChildren(this._newItem);\n    this._score = 0;\n    this.scoreLabel.string = this._score;\n    this._indexArr = [];\n    this.createPreFab();\n    this.colorCheck();\n    this.gameOverForm.active = false;\n    this.disableKey(true);\n    this.disableTouch(true);\n  },\n  tutorialEvent() {\n    if (this.tutorialFormFlag == false) {\n      this.tutorialFormFlag = true;\n      this.tutorialForm.active = true;\n      this.tutorialForm.setScale(0, 0);\n      this.tutorialForm.setPosition(75, 320);\n      let spawnOpen = cc.spawn(cc.scaleTo(0.5, 1), cc.moveTo(0.5, 2.5, -50));\n      this.tutorialForm.runAction(spawnOpen);\n      this.disableKey(false);\n      this.disableTouch(false);\n    } else this.closeTutorialEvent();\n  },\n  closeTutorialEvent() {\n    let spawnClose = cc.spawn(cc.scaleTo(0.5, 0), cc.moveTo(0.5, 75, 320));\n    this.tutorialForm.runAction(spawnClose);\n    this.tutorialFormFlag = false;\n\n    this.tutorialForm.getComponent(cc.PageView).scrollToPage(0, 0.5);\n    this.disableKey(true);\n    this.disableTouch(true);\n  },\n  leaderBoardEvent() {\n    if (this.leaderBoardFormFlag == false) {\n      this.leaderBoardFormFlag = true;\n      this.leaderBoardForm.active = true;\n      this.leaderBoardForm.setScale(0, 0);\n      this.leaderBoardForm.setPosition(85, 275);\n      let spawnOpen = cc.spawn(cc.scaleTo(0.5, 1), cc.moveTo(0.5, 2.5, -50));\n      this.leaderBoardForm.runAction(spawnOpen);\n      this.disableKey(false);\n      this.disableTouch(false);\n    } else this.closeLeaderBoardEvent();\n  },\n  closeLeaderBoardEvent() {\n    let spawnClose = cc.spawn(cc.scaleTo(0.5, 0), cc.moveTo(0.5, 75, 275));\n    this.leaderBoardForm.runAction(spawnClose);\n    this.leaderBoardFormFlag = false;\n    this.disableKey(true);\n    this.disableTouch(true);\n  },\n  playAgainEvent() {\n    let newItem = cc.instantiate(this.leaderBoardItemPrefab);\n    this.leaderBoardForm.children[2].children[0].addChild(newItem);\n    let stringLeaderBoard = newItem.getComponent(cc.Label);\n    stringLeaderBoard.string = `______☆☆☆☆☆______ \\n ${this.gameOverEditBox.string} : ${this._score}`;\n    this.gameOverEditBox.string = \"\";\n\n    this.newGameEvent();\n  },\n  updateBestScore() {\n    this.bestLabel.string = Math.max(...JSON.parse(cc.sys.localStorage.getItem(\"best\")));\n  },\n  notificationEvent() {\n    this.notification.setPosition(1500, 300);\n    let action = cc.moveTo(10, -1500, 300);\n    this.notification.runAction(action);\n    this._timer = 0;\n  },\n  disableKey(value) {\n    Emitter.instance.emit(\"DISABLE KEY\", value);\n  },\n  disableTouch(value) {\n    Emitter.instance.emit(\"DISABLE TOUCH\", value);\n  },\n});\n"]}