{"version":3,"sources":["../../../../assets/Script/assets/Script/mainController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","limit","score","best","newItem","timer","notification","Node","notificationLabel","RichText","scoreLabel","Label","bestLabel","item","table","tableChild","Prefab","itemPrefab","deckItem","tutorialForm","tutorialFormFlag","leaderBoardForm","leaderBoardFormFlag","gameOverForm","gameOverParticles","gameOverSadFace","gameOverHappyFace","gameOverLabel","posArr","indexArr","onLoad","instance","registerEvent","goDown","bind","goUp","goRight","goLeft","createRandomItem","matchItemRow","matchItemCol","newGameEvent","tutorialEvent","closeTutorialEvent","leaderBoardEvent","closeLeaderBoardEvent","colorCheck","v2","createTable","createPreFab","updateLeaderBoard","start","update","dt","positionCheck","notificationEvent","string","i","j","newTableChild","instantiate","addChild","children","getComponent","push","position","log","randomNumber","Math","floor","random","length","setScale","action","scaleTo","runAction","checkForLose","matchTotal","parseInt","checkForWin","grey","Color","color0","color2","color4","color8","color16","color32","color64","color128","color256","color512","color1024","color2048","color","WHITE","y","x","rowOne","rowTwo","rowThree","rowFour","rows","filteredRow","filter","num","zeros","Array","fill","newRow","concat","colOne","colTwo","colThree","colFour","cols","filteredCol","newCol","gameOverWinEvent","sys","localStorage","setItem","JSON","stringify","max","parse","getItem","gameOverLoseEvent","active","winSpawn","disableKey","loseSpawn","removeAllChildren","setPosition","spawnOpen","spawn","moveTo","spawnClose","value","emit"],"mappings":"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","file":"mainController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\ncc.Class({\n  extends: cc.Component,\n\n  properties: {\n    limit: 165,\n    score: 0,\n    best: [],\n    newItem: null,\n    timer: 0,\n    notification: cc.Node,\n    notificationLabel: cc.RichText,\n    scoreLabel: cc.Label,\n    bestLabel: cc.Label,\n    item: cc.Node,\n    table: cc.Node,\n    tableChild: cc.Prefab,\n    itemPrefab: cc.Prefab,\n    deckItem: cc.Node,\n    tutorialForm: cc.Node,\n    tutorialFormFlag: false,\n    leaderBoardForm: cc.Node,\n    leaderBoardFormFlag: false,\n    gameOverForm: cc.Node,\n    gameOverParticles: cc.Node,\n    gameOverSadFace: cc.Node,\n    gameOverHappyFace: cc.Node,\n    gameOverLabel: cc.Label,\n    posArr: [],\n    indexArr: [],\n  },\n  // LIFE-CYCLE CALLBACKS:\n  onLoad() {\n    Emitter.instance = new Emitter();\n    Emitter.instance.registerEvent(\"DOWN\", this.goDown.bind(this));\n    Emitter.instance.registerEvent(\"UP\", this.goUp.bind(this));\n    Emitter.instance.registerEvent(\"RIGHT\", this.goRight.bind(this));\n    Emitter.instance.registerEvent(\"LEFT\", this.goLeft.bind(this));\n    Emitter.instance.registerEvent(\"CREATE RANDOM ITEM\", this.createRandomItem.bind(this));\n    Emitter.instance.registerEvent(\"MATCH ROW\", this.matchItemRow.bind(this));\n    Emitter.instance.registerEvent(\"MATCH COL\", this.matchItemCol.bind(this));\n    Emitter.instance.registerEvent(\"NEW GAME\", this.newGameEvent.bind(this));\n    Emitter.instance.registerEvent(\"TUTORIAL\", this.tutorialEvent.bind(this));\n    Emitter.instance.registerEvent(\"CLOSE TUTORIAL\", this.closeTutorialEvent.bind(this));\n    Emitter.instance.registerEvent(\"LEADER BOARD\", this.leaderBoardEvent.bind(this));\n    Emitter.instance.registerEvent(\"CLOSE LEADER BOARD\", this.closeLeaderBoardEvent.bind(this));\n    Emitter.instance.registerEvent(\"COLOR CHECK\", this.colorCheck.bind(this));\n\n    this.posArr = [\n      cc.v2(-165, 65),\n      cc.v2(-55, 65),\n      cc.v2(55, 65),\n      cc.v2(165, 65),\n      cc.v2(-165, -45),\n      cc.v2(-55, -45),\n      cc.v2(55, -45),\n      cc.v2(165, -45),\n      cc.v2(-165, -155),\n      cc.v2(55, -155),\n      cc.v2(-55, -155),\n      cc.v2(165, -155),\n      cc.v2(-165, -265),\n      cc.v2(-55, -265),\n      cc.v2(55, -265),\n      cc.v2(165, -265),\n    ];\n    this.createTable();\n    this.createPreFab();\n    this.colorCheck();\n    this.updateLeaderBoard();\n\n    // if (this.newItemLevel.string == 0) {\n    //   this.newItem.color = \"#8D8D8C\";\n    // }\n  },\n\n  start() {},\n\n  update(dt) {\n    this.positionCheck();\n    this.timer == 500 ? this.notificationEvent() : this.timer++;\n    this.notificationLabel.string = `<color=#ffffff>Best Score is: </c><color=#0fffff>${this.bestLabel.string} </color><color=#ffffff>!!!</c>`;\n  },\n  createTable() {\n    for (let i = 1; i <= 4; i++) {\n      for (let j = 1; j <= 4; j++) {\n        let newTableChild = cc.instantiate(this.tableChild);\n        this.table.addChild(newTableChild);\n      }\n    }\n  },\n  createPreFab() {\n    for (let i = 0; i < 16; i++) {\n      this.newItem = cc.instantiate(this.itemPrefab);\n      this.deckItem.addChild(this.newItem);\n      this.newItem.children[0].getComponent(cc.Label).string = 0;\n      this.indexArr.push(this.newItem);\n      this.newItem.position = this.posArr[i];\n    }\n    // cc.log(this.deckItem.children);\n    cc.log(this.indexArr);\n    this.colorCheck();\n    this.createRandomItem();\n    this.createRandomItem();\n  },\n  createRandomItem() {\n    let randomNumber = Math.floor(Math.random() * this.indexArr.length);\n    if (this.indexArr[randomNumber].children[0].getComponent(cc.Label).string == 0) {\n      this.indexArr[randomNumber].children[0].getComponent(cc.Label).string = 2;\n      this.indexArr[randomNumber].setScale(0.3);\n      let action = cc.scaleTo(0.2, 1);\n      this.indexArr[randomNumber].runAction(action);\n\n      this.checkForLose();\n    } else this.createRandomItem();\n  },\n  matchItemRow() {\n    for (let i = 0; i < 15; i++) {\n      if (\n        this.indexArr[i].children[0].getComponent(cc.Label).string ===\n        this.indexArr[i + 1].children[0].getComponent(cc.Label).string\n      ) {\n        let matchTotal =\n          parseInt(this.indexArr[i].children[0].getComponent(cc.Label).string) +\n          parseInt(this.indexArr[i + 1].children[0].getComponent(cc.Label).string);\n        this.indexArr[i].children[0].getComponent(cc.Label).string = matchTotal;\n        this.indexArr[i + 1].children[0].getComponent(cc.Label).string = 0;\n        this.score += matchTotal;\n        this.scoreLabel.string = this.score;\n      }\n      // let action = cc.sequence(cc.scaleTo(0.5, 1.5), cc.scaleTo(0.5, 1));\n      // this.indexArr[i].runAction(action);\n    }\n    this.checkForWin();\n  },\n  matchItemCol() {\n    for (let i = 0; i < 12; i++) {\n      if (\n        this.indexArr[i].children[0].getComponent(cc.Label).string ===\n        this.indexArr[i + 4].children[0].getComponent(cc.Label).string\n      ) {\n        let matchTotal =\n          parseInt(this.indexArr[i].children[0].getComponent(cc.Label).string) +\n          parseInt(this.indexArr[i + 4].children[0].getComponent(cc.Label).string);\n        this.indexArr[i].children[0].getComponent(cc.Label).string = 0;\n        this.indexArr[i + 4].children[0].getComponent(cc.Label).string = matchTotal;\n        this.score += matchTotal;\n        this.scoreLabel.string = this.score;\n      }\n    }\n    this.checkForWin();\n  },\n  colorCheck() {\n    let grey = new cc.Color(204, 110, 101);\n    let color0 = new cc.Color(204, 193, 179);\n    let color2 = new cc.Color(238, 228, 218);\n    let color4 = new cc.Color(237, 224, 200);\n    let color8 = new cc.Color(242, 177, 120);\n    let color16 = new cc.Color(245, 150, 98);\n    let color32 = new cc.Color(246, 125, 95);\n    let color64 = new cc.Color(246, 94, 59);\n    let color128 = new cc.Color(237, 207, 113);\n    let color256 = new cc.Color(237, 204, 97);\n    let color512 = new cc.Color(237, 200, 80);\n    let color1024 = new cc.Color(237, 196, 62);\n    let color2048 = new cc.Color(237, 194, 45);\n\n    for (let i = 0; i <= 15; i++) {\n      if (this.indexArr[i].children[0].getComponent(cc.Label).string == 0) {\n        this.indexArr[i].color = color0;\n        this.indexArr[i].children[0].color = color0;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 2) {\n        this.indexArr[i].color = color2;\n        this.indexArr[i].children[0].color = grey;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 4) {\n        this.indexArr[i].color = color4;\n        this.indexArr[i].children[0].color = grey;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 8) {\n        this.indexArr[i].color = color8;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 16) {\n        this.indexArr[i].color = color16;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 32) {\n        this.indexArr[i].color = color32;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 64) {\n        this.indexArr[i].color = color64;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 128) {\n        this.indexArr[i].color = color128;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 256) {\n        this.indexArr[i].color = color256;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 512) {\n        this.indexArr[i].color = color512;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 1024) {\n        this.indexArr[i].color = color1024;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      } else if (this.indexArr[i].children[0].getComponent(cc.Label).string == 2048) {\n        this.indexArr[i].color = color2048;\n        this.indexArr[i].children[0].color = cc.Color.WHITE;\n      }\n      // switch (this.indexArr[i].children[0].getComponent(cc.Label).string == value) {\n      //   case 0:\n      //     this.indexArr[i].color = cc.Color.GRAY;\n      //     this.indexArr[i].children[0].color = cc.Color.GRAY;\n      //     break;\n      //   case 2:\n      //     this.indexArr[i].color = \"#ffb759\";\n      //     break;\n      // }\n    }\n  },\n  positionCheck() {\n    if (this.item.y <= -(this.limit + 100)) {\n      this.item.y = -(this.limit + 100);\n    }\n    if (this.item.y >= this.limit - 100) {\n      this.item.y = this.limit - 100;\n    }\n    if (this.item.x <= -this.limit) {\n      this.item.x = -this.limit;\n    } else if (this.item.x >= this.limit) {\n      this.item.x = this.limit;\n    }\n  },\n  goRight() {\n    for (let i = 0; i < 16; i++) {\n      if (i % 4 === 0) {\n        let rowOne = this.indexArr[i].children[0].getComponent(cc.Label).string;\n        let rowTwo = this.indexArr[i + 1].children[0].getComponent(cc.Label).string;\n        let rowThree = this.indexArr[i + 2].children[0].getComponent(cc.Label).string;\n        let rowFour = this.indexArr[i + 3].children[0].getComponent(cc.Label).string;\n        let rows = [parseInt(rowOne), parseInt(rowTwo), parseInt(rowThree), parseInt(rowFour)];\n        let filteredRow = rows.filter((num) => num);\n        let zeros = Array(4 - filteredRow.length).fill(0);\n        let newRow = zeros.concat(filteredRow);\n        this.indexArr[i].children[0].getComponent(cc.Label).string = newRow[0];\n        this.indexArr[i + 1].children[0].getComponent(cc.Label).string = newRow[1];\n        this.indexArr[i + 2].children[0].getComponent(cc.Label).string = newRow[2];\n        this.indexArr[i + 3].children[0].getComponent(cc.Label).string = newRow[3];\n      }\n    }\n  },\n  goLeft() {\n    for (let i = 0; i < 16; i++) {\n      if (i % 4 === 0) {\n        let rowOne = this.indexArr[i].children[0].getComponent(cc.Label).string;\n        let rowTwo = this.indexArr[i + 1].children[0].getComponent(cc.Label).string;\n        let rowThree = this.indexArr[i + 2].children[0].getComponent(cc.Label).string;\n        let rowFour = this.indexArr[i + 3].children[0].getComponent(cc.Label).string;\n        let rows = [parseInt(rowOne), parseInt(rowTwo), parseInt(rowThree), parseInt(rowFour)];\n        let filteredRow = rows.filter((num) => num);\n        let zeros = Array(4 - filteredRow.length).fill(0);\n        let newRow = filteredRow.concat(zeros);\n        this.indexArr[i].children[0].getComponent(cc.Label).string = newRow[0];\n        this.indexArr[i + 1].children[0].getComponent(cc.Label).string = newRow[1];\n        this.indexArr[i + 2].children[0].getComponent(cc.Label).string = newRow[2];\n        this.indexArr[i + 3].children[0].getComponent(cc.Label).string = newRow[3];\n      }\n    }\n  },\n  goUp() {\n    for (let i = 0; i < 4; i++) {\n      let colOne = this.indexArr[i].children[0].getComponent(cc.Label).string;\n      let colTwo = this.indexArr[i + 4].children[0].getComponent(cc.Label).string;\n      let colThree = this.indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string;\n      let colFour = this.indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string;\n      let cols = [parseInt(colOne), parseInt(colTwo), parseInt(colThree), parseInt(colFour)];\n      let filteredCol = cols.filter((num) => num);\n      let zeros = Array(4 - filteredCol.length).fill(0);\n      let newCol = filteredCol.concat(zeros);\n      this.indexArr[i].children[0].getComponent(cc.Label).string = newCol[0];\n      this.indexArr[i + 4].children[0].getComponent(cc.Label).string = newCol[1];\n      this.indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string = newCol[2];\n      this.indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string = newCol[3];\n    }\n  },\n  goDown() {\n    for (let i = 0; i < 4; i++) {\n      let colOne = this.indexArr[i].children[0].getComponent(cc.Label).string;\n      let colTwo = this.indexArr[i + 4].children[0].getComponent(cc.Label).string;\n      let colThree = this.indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string;\n      let colFour = this.indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string;\n      let cols = [parseInt(colOne), parseInt(colTwo), parseInt(colThree), parseInt(colFour)];\n      let filteredCol = cols.filter((num) => num);\n      let zeros = Array(4 - filteredCol.length).fill(0);\n      let newCol = zeros.concat(filteredCol);\n      this.indexArr[i].children[0].getComponent(cc.Label).string = newCol[0];\n      this.indexArr[i + 4].children[0].getComponent(cc.Label).string = newCol[1];\n      this.indexArr[i + 4 * 2].children[0].getComponent(cc.Label).string = newCol[2];\n      this.indexArr[i + 4 * 3].children[0].getComponent(cc.Label).string = newCol[3];\n    }\n  },\n  checkForWin() {\n    for (let i = 0; i < this.indexArr.length; i++) {\n      if (this.indexArr[i].children[0].getComponent(cc.Label).string == 64) {\n        this.gameOverWinEvent();\n        this.best.push(this.scoreLabel.string);\n        cc.sys.localStorage.setItem(\"best\", JSON.stringify(this.best));\n        this.bestLabel.string = Math.max(...JSON.parse(cc.sys.localStorage.getItem(\"best\")));\n      }\n    }\n  },\n  checkForLose() {\n    let zeros = 0;\n    for (let i = 0; i < this.indexArr.length; i++) {\n      if (this.indexArr[i].children[0].getComponent(cc.Label).string == 0) {\n        zeros++;\n      }\n    }\n    if (zeros === 0) {\n      this.gameOverLoseEvent();\n    }\n  },\n\n  gameOverWinEvent() {\n    this.gameOverForm.active = true;\n    this.gameOverForm.setScale(0, 0);\n    let winSpawn = cc.scaleTo(0.5, 1);\n    this.gameOverForm.runAction(winSpawn);\n    this.gameOverParticles.active = true;\n    this.gameOverHappyFace.active = true;\n    this.gameOverSadFace.active = false;\n    this.gameOverLabel.string = \"You Win!\";\n    this.disableKey(false);\n  },\n  gameOverLoseEvent() {\n    this.gameOverForm.active = true;\n    this.gameOverForm.setScale(0, 0);\n    let loseSpawn = cc.scaleTo(0.5, 1);\n    this.gameOverForm.runAction(loseSpawn);\n    this.gameOverParticles.active = false;\n    this.gameOverHappyFace.active = false;\n    this.gameOverSadFace.active = true;\n    this.gameOverLabel.string = \"Game Over!\";\n    this.disableKey(false);\n  },\n  newGameEvent() {\n    this.deckItem.removeAllChildren(this.newItem);\n    this.score = 0;\n    this.scoreLabel.string = this.score;\n    this.indexArr = [];\n    this.createPreFab();\n    this.colorCheck();\n    this.gameOverForm.active = false;\n    this.disableKey(true);\n  },\n  tutorialEvent() {\n    if (this.tutorialFormFlag == false) {\n      this.tutorialFormFlag = true;\n      this.tutorialForm.active = true;\n      this.tutorialForm.setScale(0, 0);\n      this.tutorialForm.setPosition(75, 320);\n      let spawnOpen = cc.spawn(cc.scaleTo(0.5, 1), cc.moveTo(0.5, 2.5, -50));\n      this.tutorialForm.runAction(spawnOpen);\n      this.disableKey(false);\n    } else this.closeTutorialEvent();\n  },\n  closeTutorialEvent() {\n    let spawnClose = cc.spawn(cc.scaleTo(0.5, 0), cc.moveTo(0.5, 75, 320));\n    this.tutorialForm.runAction(spawnClose);\n    this.tutorialFormFlag = false;\n    this.disableKey(true);\n  },\n  leaderBoardEvent() {\n    if (this.leaderBoardFormFlag == false) {\n      this.leaderBoardFormFlag = true;\n      this.leaderBoardForm.active = true;\n      this.leaderBoardForm.setScale(0, 0);\n      this.leaderBoardForm.setPosition(85, 275);\n      let spawnOpen = cc.spawn(cc.scaleTo(0.5, 1), cc.moveTo(0.5, 2.5, -50));\n      this.leaderBoardForm.runAction(spawnOpen);\n      this.disableKey(false);\n    } else this.closeLeaderBoardEvent();\n  },\n  closeLeaderBoardEvent() {\n    let spawnClose = cc.spawn(cc.scaleTo(0.5, 0), cc.moveTo(0.5, 75, 275));\n    this.leaderBoardForm.runAction(spawnClose);\n    this.leaderBoardFormFlag = false;\n    this.disableKey(true);\n  },\n  updateLeaderBoard() {\n    this.bestLabel.string = Math.max(...JSON.parse(cc.sys.localStorage.getItem(\"best\")));\n  },\n  notificationEvent() {\n    this.notification.setPosition(1500, 300);\n    let action = cc.moveTo(10, -1500, 300);\n    this.notification.runAction(action);\n    this.timer = 0;\n  },\n  disableKey(value) {\n    Emitter.instance.emit(\"DISABLE KEY\", value);\n  },\n});\n"]}