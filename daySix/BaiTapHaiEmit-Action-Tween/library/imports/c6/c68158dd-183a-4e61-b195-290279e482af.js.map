{"version":3,"sources":["../../../../assets/Script/assets/Script/keyController.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","keyMove","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","instance","registerEvent","disableKey","bind","start","update","dt","event","keyCode","macro","KEY","space","goAttack_Action","left","goLeft_Action","right","goRight_Action","up","goJump_Action","down","resetPos_Action","e","goAttack_Tween","a","goLeft_Tween","d","goRight_Tween","w","goJump_Tween","s","resetPos_Tween","emit","value"],"mappings":"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","file":"keyController.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\");\n\ncc.Class({\n  extends: cc.Component,\n  properties: {\n    keyMove: true,\n  },\n  // LIFE-CYCLE CALLBACKS:\n  onLoad() {\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n    Emitter.instance.registerEvent(\"DISABLE KEY\", this.disableKey.bind(this));\n  },\n  start() {},\n  update(dt) {},\n  onKeyDown(event) {\n    if (!this.keyMove) return;\n    switch (event.keyCode) {\n      case cc.macro.KEY.space:\n        this.goAttack_Action();\n        break;\n      case cc.macro.KEY.left:\n        this.goLeft_Action();\n        break;\n      case cc.macro.KEY.right:\n        this.goRight_Action();\n        break;\n      case cc.macro.KEY.up:\n        this.goJump_Action();\n        break;\n      case cc.macro.KEY.down:\n        this.resetPos_Action();\n        break;\n\n      case cc.macro.KEY.e:\n        this.goAttack_Tween();\n        break;\n      case cc.macro.KEY.a:\n        this.goLeft_Tween();\n        break;\n      case cc.macro.KEY.d:\n        this.goRight_Tween();\n        break;\n      case cc.macro.KEY.w:\n        this.goJump_Tween();\n        break;\n      case cc.macro.KEY.s:\n        this.resetPos_Tween();\n        break;\n    }\n  },\n  goAttack_Action() {\n    Emitter.instance.emit(\"ATTACK_ACTION\");\n  },\n  goLeft_Action() {\n    Emitter.instance.emit(\"LEFT_ACTION\");\n  },\n  goRight_Action() {\n    Emitter.instance.emit(\"RIGHT_ACTION\");\n  },\n  goJump_Action() {\n    Emitter.instance.emit(\"JUMP_ACTION\");\n  },\n  resetPos_Action() {\n    Emitter.instance.emit(\"RESET_ACTION\");\n  },\n\n  goAttack_Tween() {\n    Emitter.instance.emit(\"ATTACK_TWEEN\");\n  },\n  goLeft_Tween() {\n    Emitter.instance.emit(\"LEFT_TWEEN\");\n  },\n  goRight_Tween() {\n    Emitter.instance.emit(\"RIGHT_TWEEN\");\n  },\n  goJump_Tween() {\n    Emitter.instance.emit(\"JUMP_TWEEN\");\n  },\n  resetPos_Tween() {\n    Emitter.instance.emit(\"RESET_TWEEN\");\n  },\n  disableKey(value) {\n    this.keyMove = value;\n  },\n});\n"]}