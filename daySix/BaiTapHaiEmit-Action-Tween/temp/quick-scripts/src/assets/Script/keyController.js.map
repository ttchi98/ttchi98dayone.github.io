{"version":3,"sources":["assets\\Script\\keyController.js"],"names":["Emitter","require","cc","Class","Component","properties","keyMove","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","instance","registerEvent","disableKey","bind","start","update","dt","event","keyCode","macro","KEY","a","goAttack","left","goLeft","right","goRight","up","goJump","down","resetPos","emit","value"],"mappings":";;;;;;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AAEAC,EAAE,CAACC,KAAH,CAAS;AACP,aAASD,EAAE,CAACE,SADL;AAEPC,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAE;AADC,GAFL;AAKP;AACAC,EAAAA,MANO,oBAME;AACPL,IAAAA,EAAE,CAACM,WAAH,CAAeC,EAAf,CAAkBP,EAAE,CAACQ,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKC,SAA1D,EAAqE,IAArE;AACAb,IAAAA,OAAO,CAACc,QAAR,CAAiBC,aAAjB,CAA+B,aAA/B,EAA8C,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAA9C;AACD,GATM;AAUPC,EAAAA,KAVO,mBAUC,CAAE,CAVH;AAWPC,EAAAA,MAXO,kBAWAC,EAXA,EAWI,CAAE,CAXN;AAYPP,EAAAA,SAZO,qBAYGQ,KAZH,EAYU;AACf,QAAI,CAAC,KAAKf,OAAV,EAAmB;;AACnB,YAAQe,KAAK,CAACC,OAAd;AACE,WAAKpB,EAAE,CAACqB,KAAH,CAASC,GAAT,CAAaC,CAAlB;AACE,aAAKC,QAAL;AACA;;AACF,WAAKxB,EAAE,CAACqB,KAAH,CAASC,GAAT,CAAaG,IAAlB;AACE,aAAKC,MAAL;AACA;;AACF,WAAK1B,EAAE,CAACqB,KAAH,CAASC,GAAT,CAAaK,KAAlB;AACE,aAAKC,OAAL;AACA;;AACF,WAAK5B,EAAE,CAACqB,KAAH,CAASC,GAAT,CAAaO,EAAlB;AACE,aAAKC,MAAL;AACA;;AACF,WAAK9B,EAAE,CAACqB,KAAH,CAASC,GAAT,CAAaS,IAAlB;AACE,aAAKC,QAAL;AACA;AAfJ;AAiBD,GA/BM;AAgCPR,EAAAA,QAhCO,sBAgCI;AACT1B,IAAAA,OAAO,CAACc,QAAR,CAAiBqB,IAAjB,CAAsB,QAAtB;AACD,GAlCM;AAmCPP,EAAAA,MAnCO,oBAmCE;AACP5B,IAAAA,OAAO,CAACc,QAAR,CAAiBqB,IAAjB,CAAsB,MAAtB;AACD,GArCM;AAsCPL,EAAAA,OAtCO,qBAsCG;AACR9B,IAAAA,OAAO,CAACc,QAAR,CAAiBqB,IAAjB,CAAsB,OAAtB;AACD,GAxCM;AAyCPH,EAAAA,MAzCO,oBAyCE;AACPhC,IAAAA,OAAO,CAACc,QAAR,CAAiBqB,IAAjB,CAAsB,MAAtB;AACD,GA3CM;AA4CPD,EAAAA,QA5CO,sBA4CI;AACTlC,IAAAA,OAAO,CAACc,QAAR,CAAiBqB,IAAjB,CAAsB,OAAtB;AACD,GA9CM;AA+CPnB,EAAAA,UA/CO,sBA+CIoB,KA/CJ,EA+CW;AAChB,SAAK9B,OAAL,GAAe8B,KAAf;AACD;AAjDM,CAAT","sourceRoot":"/","sourcesContent":["const Emitter = require(\"mEmitter\");\r\n\r\ncc.Class({\r\n  extends: cc.Component,\r\n  properties: {\r\n    keyMove: true,\r\n  },\r\n  // LIFE-CYCLE CALLBACKS:\r\n  onLoad() {\r\n    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    Emitter.instance.registerEvent(\"DISABLE KEY\", this.disableKey.bind(this));\r\n  },\r\n  start() {},\r\n  update(dt) {},\r\n  onKeyDown(event) {\r\n    if (!this.keyMove) return;\r\n    switch (event.keyCode) {\r\n      case cc.macro.KEY.a:\r\n        this.goAttack();\r\n        break;\r\n      case cc.macro.KEY.left:\r\n        this.goLeft();\r\n        break;\r\n      case cc.macro.KEY.right:\r\n        this.goRight();\r\n        break;\r\n      case cc.macro.KEY.up:\r\n        this.goJump();\r\n        break;\r\n      case cc.macro.KEY.down:\r\n        this.resetPos();\r\n        break;\r\n    }\r\n  },\r\n  goAttack() {\r\n    Emitter.instance.emit(\"ATTACK\");\r\n  },\r\n  goLeft() {\r\n    Emitter.instance.emit(\"LEFT\");\r\n  },\r\n  goRight() {\r\n    Emitter.instance.emit(\"RIGHT\");\r\n  },\r\n  goJump() {\r\n    Emitter.instance.emit(\"JUMP\");\r\n  },\r\n  resetPos() {\r\n    Emitter.instance.emit(\"RESET\");\r\n  },\r\n  disableKey(value) {\r\n    this.keyMove = value;\r\n  },\r\n});\r\n"]}